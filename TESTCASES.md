# Тест-кейсы

## **1. Создание объявления (POST /api/1/item)**

### **Положительные тесты**
- **Тест 1.1: Создание объявления с корректными данными**  
  **Шаги**:  
  1. Отправить запрос с корректными значениями `sellerId`, `name`, `price` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `200 OK`.
  - Ответ содержит `id` созданного объявления в формате UUID.
  - По полученному `id` успешно находится созданное объявление.
  - Данные в созданном объявлении совпадают с указанными при создании.

- **Тест 1.2: Создание объявления с минимальным допустимым идентификатором продавца (111111)**  
  **Шаги**:  
  1. Отправить запрос с `sellerId = 111111` и корректными значениями `name`, `price` и `statistics`.

  **Ожидаемый результат**:
  - Код состояния: `200 OK`.
  - Ответ содержит `id` созданного объявления в формате UUID.
  - По полученному `id` успешно находится созданное объявление.
  - Данные в созданном объявлении совпадают с указанными при создании.

- **Тест 1.3: Создание объявления с максимально допустимым идентификатором продавца (999999)**  
  **Шаги**:
  1. Отправить запрос с `sellerId = 999999` и корректными значениями `name`, `price` и `statistics`.

  **Ожидаемый результат**:
  - Код состояния: `200 OK`.
  - Ответ содержит `id` созданного объявления в формате UUID.
  - По полученному `id` успешно находится созданное объявление.
  - Данные в созданном объявлении совпадают с указанными при создании.

---

### **Негативные тесты**
- **Тест 1.4: Создание объявления с отсутствующим полем `sellerId`**  
  **Шаги**:  
  1. Опустить поле `sellerId` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `price` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.  
  
- **Тест 1.5: Создание объявления с отсутствующим полем `name`**  
  **Шаги**:  
  1. Опустить поле `name` в теле запроса.  
  2. Отправить запрос с корректными значениями `price`, `sellerId` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.  

- **Тест 1.6: Создание объявления с отсутствующим полем `price`**  
  **Шаги**:  
  1. Опустить поле `price` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `sellerId` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.  

- **Тест 1.7: Создание объявления с отсутствующим полем `statistics`**  
  **Шаги**:  
  1. Опустить поле `statistics` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `price` и `sellerId`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`. 

- **Тест 1.8: Создание объявления с отсутствующим полем `contacts` из объекта `statistics`**  
  **Шаги**:  
  1. Опустить поле `contacts` в объекте `statistics` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `likes` и `viewCount` в объекте `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`. 

- **Тест 1.9: Создание объявления с отсутствующим полем `likes` из объекта `statistics`**  
  **Шаги**:  
  1. Опустить поле `likes` в объекте `statistics` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `contacts` и `viewCount` в объекте `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`. 

- **Тест 1.10: Создание объявления с отсутствующим полем `viewCount` из объекта `statistics`**  
  **Шаги**:  
  1. Опустить поле `viewCount` в объекте `statistics` в теле запроса.  
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `contacts` и `likes` в объекте `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`. 

- **Тест 1.11: Создание объявления с недопустимыми типами поля `sellerId`**  
  **Шаги**:
  1. Для поля `sellerId` использовать одно из следующих недопустимых значений:
     - Строка (например, `"3452A"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `price` и `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.12: Создание объявления с недействительным значением поля `name`**  
  **Шаги**:
  1. Для поля `name` использовать одно из следующих недопустимых значений:
     - Пустая строка
     - Целочисленное значение (например, `3452`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `sellerId`, `price` и `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.13: Создание объявления с недействительным значением поля `price`**  
  **Шаги**:
  1. Для поля `price` использовать одно из следующих недопустимых значений:
     - Строка (например, `"3452A"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `sellerId` и `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.14: Создание объявления с `sellerId`, превышающим максимальное значение диапазона (999999)**  
  **Шаги**:  
  1. Установить значение `1000000` для поля `sellerId`.
  2. Отправить запрос с корректными значениями `name`, `price` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.

- **Тест 1.15: Создание объявления с `sellerId`, меньшим минимального значения диапазона (111111)**  
  **Шаги**:  
  1. Установить значение `111110` для поля `sellerId`.
  2. Отправить запрос с корректными значениями `name`, `price` и `statistics`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.

- **Тест 1.16: Создание объявления с отрицательной ценой**  
  **Шаги**:
  1. Установить значение `-100` для поля `price`.
  2. Отправить запрос с корректными значениями `name`, `sellerId` и `statistics`.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.  

- **Тест 1.17: Создание объявления с недопустимыми типами поля `statistics`**  
  **Шаги**:
  1. Для поля `statistics` использовать одно из следующих недопустимых значений:
     - Строка (например, `"35"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `price` и `sellerId`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.18: Создание объявления с недопустимыми типами поля `contacts`**  
  **Шаги**:
  1. Для поля `contacts` использовать одно из следующих недопустимых значений:
     - Строка (например, `"35"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `likes` и `viewCount` в объекте `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.19: Создание объявления с недопустимыми типами поля `likes`**  
  **Шаги**:
  1. Для поля `likes` использовать одно из следующих недопустимых значений:
     - Строка (например, `"35"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `contacts` и `viewCount` в объекте `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

- **Тест 1.20: Создание объявления с недопустимыми типами поля `viewCount`**  
  **Шаги**:
  1. Для поля `viewCount` использовать одно из следующих недопустимых значений:
     - Строка (например, `"35"`)
     - Число с плавающей точкой (например, `345.2`)
     - Булевое значение (например, `true`)
  2. Отправить запрос с корректными значениями `name`, `price`, `sellerId`, `contacts` и `likes` в объекте `statistics`.
  3. Повторить шаги 2–3 для каждого типа.

  **Ожидаемый результат**:
  - Код состояния: `400 Bad Request`.

---

## **2. Получение объявлений по ID (GET /api/1/item/:id)**

### **Положительные тесты**
- **Тест 2.1: Получить существующее объявление**  
  **Шаги**:  
  1. Отправить GET-запрос с идентификатором `id` существующего объявления.

  **Ожидаемый результат**:  
  - Код состояния: `200 OK`.
  - Ответ содержит только одно объявление.
  - Тело ответа содержит:
    - Время создания объявления (`createdAt`), представленное в виде строки в формате «Год-Месяц-День Часы:Минуты:Секунды.Микросекунды ±Смещение от UTC» (например, `2025-02-13 16:18:08.167653 +0300`).
    - Идентификатор объявления (`id`) в формате UUID и в виде строки.
    - Название объявления (`name`) в виде строки.
    - Цену (`price`), представленную в виде целого числа.
    - Идентификатор продавца (`sellerId`) в виде целого числа, находящегося в диапазоне 111111–999999.
    - Объект статистики (`statistics`), состоящий из целочисленных значений: контактов (`contacts`), лайков (`likes`) и количества просмотров (`viewCount`).

---

### **Негативные тесты**
- **Тест 2.2: Получение несуществующего объявления**  
  **Шаги**:  
  1. Использовать значение идентификатора `id` несуществующего объявления в корректном формате (например, `11111111-1111-1111-1111-111111111111`).
  2. Отправить GET-запрос.

  **Ожидаемый результат**:  
  - Код состояния: `404 Not Found`.
  - Тело ответа содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` типа строки.

- **Тест 2.3: Получение объявления с некорректным идентификатором `id`**  
  **Шаги**:  
  1. Установить для `id` значение в некорректном формате (например, `1234`).
  2. Отправить GET-запрос.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.
  - Тело ответа содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` типа строки.

---

## **3. Получение всех объявлений по ID продавца (GET /api/1/:sellerID/item)**

### **Положительные тесты**
- **Тест 3.1: Получение объявлений для корректного идентификатора продавца с существующими объявлениями**  
  **Шаги**:  
  1. Создать 2 объявления с одинаковым корректным `sellerId`.  
  2. Отправить запрос с этим `sellerId`.

  **Ожидаемый результат**:  
  - Код состояния: `200 OK`.  
  - Ответ содержит 2 объявления, у которых значение `sellerId` совпадает с заданным.

- **Тест 3.2: Получение объявлений для корректного идентификатора продавца, для которого отсутствуют объявления**  
  **Шаги**:  
  1. Использовать корректный `sellerId`, для которого объявления не созданы.  
  2. Отправить запрос с этим `sellerId`.

  **Ожидаемый результат**:  
  - Код состояния: `200 OK`.  
  - Ответ — пустой массив.

### **Негативные тесты**
- **Тест 3.3: Получение объявлений с идентификатором продавца, меньшим минимального значения диапазона (111111)**  
  **Шаги**:  
  1. Отправить запрос с `sellerId`, равным `111110`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.
  - Ответ содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` со строковым значением `400`.

- **Тест 3.4: Получение объявлений с идентификатором продавца, большим максимального значения диапазона (999999)**  
  **Шаги**:  
  1. Отправить запрос с `sellerId`, равным `1000000`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.
  - Ответ содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` со строковым значением `400`.

- **Тест 3.5: Получение объявлений с некорректным типом идентификатора продавца**  
  **Шаги**:  
  1. Отправить запрос с некорректным типом `sellerId`.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.
  - Ответ содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` со строковым значением `400`.

---

## **4. Получение статистики по ID объявления (GET /api/1/statistic/:id)**

### **Положительные тесты**
- **Тест 4.1: Получение статистики для существующего объявления**  
  **Шаги**:  
  1. Создать объявление.
  2. Отправить запрос с `id`, полученным из ответа при создании объявления.

  **Ожидаемый результат**:  
  - Код состояния: `200 OK`.  
  - Ответ содержит:
    - Только одно объявление.
    - Значения поля `statistics` соответствуют значениям, использованным при создании объявления.

---

### **Негативные тесты**
- **Тест 4.2: Получение статистики несуществующего объявления**  
  **Шаги**:  
  1. Отправить запрос с корректным ID несуществующего объявления.

  **Ожидаемый результат**:  
  - Код состояния: `404 Not Found`.
  - Ответ содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` со строковым значением `404`.

- **Тест 4.3: Получение статистики объявления с некорректным ID**  
  **Шаги**:  
  1. Отправить запрос с некорректным ID объявления.

  **Ожидаемый результат**:  
  - Код состояния: `400 Bad Request`.
  - Ответ содержит:
    - Поле `result`, состоящее из пустого массива `messages` и строки `message`.
    - Поле `status` со строковым значением `400`.
